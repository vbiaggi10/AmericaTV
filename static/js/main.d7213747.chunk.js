(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,a){e.exports=a.p+"static/media/frame.0e6c3d75.svg"},16:function(e,t,a){e.exports=a(28)},21:function(e,t,a){},26:function(e,t,a){},28:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),s=a(29),i=a(31),o=a(30),l=a(2),u=a(3),m=a(5),d=a(4),h=a(6),p=(a(21),a(13)),b=a.n(p),f=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"header"},r.a.createElement("header",null,r.a.createElement("nav",{className:"navbar navbar-light bg-light nav-login"},r.a.createElement("a",{className:"navbar-brand ",href:"AmericaTV"},r.a.createElement("img",{src:b.a,width:"30",height:"30",className:"d-inline-block align-top mr-2",alt:""}),"AM\xc9RICA COMERCIAL"))))}}]),t}(n.Component),v=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.body;return r.a.createElement("div",null,e)}}]),t}(n.Component),g=[{title:"Inicio",url:"/AmericaTV/"}],E=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.children;return r.a.createElement("div",{className:"App"},r.a.createElement(f,{props:this.props,items:g}),r.a.createElement(v,{body:e}))}}]),t}(n.Component),y=window.firebase.database(),k=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).state={email:"",password:""},e}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",{className:"container col-sm-12 col-md-6 text-white d-flex flex-column mt-5 mb-3 justify-content-center align-items-center"},r.a.createElement("h2",{className:""},"Conect\xe9monos+"),r.a.createElement("p",{className:""},"EQUIPO COMERCIAL/CLIENTES"),r.a.createElement("form",{className:"bg-white text-black p-3 form-login needs-validation",onSubmit:this.handleSubmit.bind(this),noValidate:!0},r.a.createElement("img",{src:"http://www.comercial.americatv.com.pe/images/load-america.gif",className:"rounded mx-auto d-block img-login",alt:"logo"}),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"email",className:"bmd-label-floating"},"Correo Electr\xf3nico"),r.a.createElement("input",{type:"email",className:"form-control",id:"email",value:this.state.email,onChange:this.handleChange.bind(this),required:!0}),r.a.createElement("div",{className:"invalid-feedback text-danger",id:"if1"},"Email inv\xe1lido")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"bmd-label-floating"},"Contrase\xf1a"),r.a.createElement("input",{type:"password",className:"form-control",id:"password",value:this.state.password,onChange:this.handleChange.bind(this),required:!0}),r.a.createElement("div",{className:"invalid-feedback text-danger",id:"if2"},"Contrase\xf1a inv\xe1lida")),r.a.createElement("div",{className:"form-group m-0 d-flex justify-content-center"},r.a.createElement("button",{type:"submit",className:"btn btn-raised btn-success btn-login",id:"submit"},"Ingresar"))))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),y.ref("/agency").once("value").then(function(e){if(e.val().email===t.state.email&&e.val().password===t.state.password)t.props.handleChangeStatus(!0);else{var a=document.querySelector("#if1"),n=document.querySelector("#if2");a.style.display="block",n.style.display="block"}})}},{key:"handleChange",value:function(e){var t=document.querySelector("#if1"),a=document.querySelector("#if2");"email"===e.target.id?(this.setState({email:e.target.value}),t.style.display="none"):"password"===e.target.id&&(this.setState({password:e.target.value}),a.style.display="none")}}]),t}(n.Component),N=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).state={clicked:!1},e}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("th",{className:this.props.isActive?"th clicked":"th",scope:"row",id:this.props.id,onClick:this.handleClick.bind(this)},this.props.name)}},{key:"handleClick",value:function(e){this.props.onClick(this.props.index,e.target.id)}}]),t}(n.Component),C=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).state={activeIndex:null,clicked:null,array:[]},e.myRef=r.a.createRef(),e}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return this.props.booking.clickedTH&&Object.values(this.myRef.current.children).forEach(function(t){if(t.textContent===e.props.booking.schedule){var a=e.state.array;a.push({ref:t}),e.setState({array:a}),t.className="desactive",t.innerHTML="<th>No disponible</th>"}}),r.a.createElement("table",{className:"table table-striped"},r.a.createElement("tbody",{ref:this.myRef},r.a.createElement("caption",{class:"text-center tablemin-title"},"ESCOGER HORARIO"),r.a.createElement("tr",null,r.a.createElement(N,{index:0,isActive:0===this.state.activeIndex,id:"".concat(this.props.hour,":00 - ").concat(this.props.hour,":10"),onClick:this.click.bind(this),name:"".concat(this.props.hour,":00 - ").concat(this.props.hour,":10")})),r.a.createElement("tr",null,r.a.createElement(N,{index:1,isActive:1===this.state.activeIndex,id:"".concat(this.props.hour,":10 - ").concat(this.props.hour,":20"),onClick:this.click.bind(this),name:"".concat(this.props.hour,":10 - ").concat(this.props.hour,":20")})),r.a.createElement("tr",null,r.a.createElement(N,{index:2,isActive:2===this.state.activeIndex,id:"".concat(this.props.hour,":20 - ").concat(this.props.hour,":30"),onClick:this.click.bind(this),name:"".concat(this.props.hour,":20 - ").concat(this.props.hour,":30")})),r.a.createElement("tr",null,r.a.createElement(N,{index:3,isActive:3===this.state.activeIndex,id:"".concat(this.props.hour,":30 - ").concat(this.props.hour,":40"),onClick:this.click.bind(this),name:"".concat(this.props.hour,":30 - ").concat(this.props.hour,":40")})),r.a.createElement("tr",null,r.a.createElement(N,{index:4,isActive:4===this.state.activeIndex,id:"".concat(this.props.hour,":40 - ").concat(this.props.hour,":50"),onClick:this.click.bind(this),name:"".concat(this.props.hour,":40 - ").concat(this.props.hour,":50")})),r.a.createElement("tr",null,r.a.createElement(N,{index:5,isActive:5===this.state.activeIndex,id:"".concat(this.props.hour,":50 - ").concat((parseInt(this.props.hour)+1<10?"0":"")+(parseInt(this.props.hour)+1),":00"),onClick:this.click.bind(this),name:"".concat(this.props.hour,":50 - ").concat((parseInt(this.props.hour)+1<10?"0":"")+(parseInt(this.props.hour)+1),":00")}))))}},{key:"click",value:function(e,t){this.props.handleClick(t,!0),this.setState({activeIndex:e})}}]),t}(n.Component),O=window.firebase.database(),j=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).state={products:[],booking:[],productName:"",productPrice:0,surchargeAmount:0,totalAmount:0,schedule:"",clickedTH:!1},e.myRef=r.a.createRef(),e}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;O.ref("/agency").once("value").then(function(t){var a=Object.values(t.val().products);e.setState({products:a})}),O.ref("/booking").once("value").then(function(t){Object.values(t.val()).map(function(t){if(t.day===e.props.day)return e.setState({booking:t})})});var t=parseInt(this.props.hour);t>=12&&t<16?this.setState({surchargeAmount:.05*this.props.price}):t>=16&&t<20?this.setState({surchargeAmount:.15*this.props.price}):this.setState({surchargeAmount:0})}},{key:"render",value:function(){return r.a.createElement("div",{className:"mt-5"},r.a.createElement("form",{className:"form-data p-5",onSubmit:this.handleSubmit.bind(this)},r.a.createElement(C,{hour:this.props.hour,handleClick:this.handleClick.bind(this),booking:this.state.booking}),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleSelect1",className:"bmd-label-floating mb-0"},"Producto"),r.a.createElement("select",{className:"form-control pt-0",id:"exampleSelect1",onChange:this.handleChange.bind(this)},r.a.createElement("option",{disabled:!0,selected:!0},"Selecciona una opci\xf3n"),this.state.products.map(function(e,t){return r.a.createElement("option",{key:"products".concat(t),value:e.price+"-"+e.name},e.name)})),r.a.createElement("div",{className:"invalid-feedback text-danger",id:"if3"},"Debes ingresar un producto")),r.a.createElement("section",{className:"section-disabled"},r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("label",{className:"bmd-label-floating lb-nop"},"Programa: "),r.a.createElement("input",{type:"text",className:"form-control",value:this.props.name,disabled:!0})),r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("label",{className:"bmd-label-floating lb-nop"},"Fecha:"),r.a.createElement("input",{type:"text",className:"form-control",value:this.props.day,disabled:!0})),r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("label",{className:"bmd-label-floating lb-nop"},"Monto por producto:"," "),r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("p",{className:"input-group-text"},"$")),r.a.createElement("input",{type:"text",className:"form-control in-nop",value:this.state.productPrice,disabled:!0})),r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("label",{className:"bmd-label-floating lb-nop"},"Monto por programa:"," "),r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("p",{className:"input-group-text"},"$")),r.a.createElement("input",{type:"text",className:"form-control in-nop",value:this.props.price,disabled:!0})),r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("label",{className:"bmd-label-floating lb-nop"},"Monto por recargo:"," "),r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("p",{className:"input-group-text"},"$")),r.a.createElement("input",{type:"text",className:"form-control in-nop",value:this.state.surchargeAmount,disabled:!0})),r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("label",{className:"bmd-label-floating lb-nop"},"Monto total: "),r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("p",{className:"input-group-text"},"$")),r.a.createElement("input",{type:"text",className:"form-control in-nop",ref:this.myRef,value:parseInt(this.state.productPrice)+parseInt(this.props.price)+parseInt(this.state.surchargeAmount),disabled:!0}))),r.a.createElement("div",{className:"form-check"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",className:"form-check-input","caria-label":"Checkbox for following text input",required:!0})," ","ACEPTO LOS TERMINOS Y CONDICIONES")),r.a.createElement("button",{type:"submit",className:"btn btn-raised btn-warning btn-login",name:"cancel",onClick:this.handleCancel.bind(this)},"Cancelar"),r.a.createElement("button",{type:"submit",className:"btn btn-raised btn-success btn-login",name:"submit"},"Enviar")))}},{key:"handleChange",value:function(e){var t=e.target.value.split("-");this.setState({productPrice:parseInt(t[0]),productName:t[1]}),document.querySelector("#if3").style.display="none"}},{key:"handleClick",value:function(e,t){this.setState({schedule:e,clickedTH:t})}},{key:"handleSubmit",value:function(e){(e.preventDefault(),"submit"===Object.values(e.target)[9].name)&&(0!==this.state.productPrice?(O.ref("booking/").push({name:this.props.name,day:this.props.day,hour:this.props.hour,productName:this.state.productName,productPrice:this.state.productPrice,programPrice:this.props.price,surchargePrice:this.state.surchargeAmount,schedule:this.state.schedule,totalPrice:this.myRef.current.value,clickedTH:this.state.clickedTH,idCalendar:this.props.idCalendar}),this.props.handleChangeStatus(!1)):document.querySelector("#if3").style.display="block")}},{key:"handleCancel",value:function(e){e.preventDefault(),e.stopPropagation(),this.props.handleChangeStatus(!1)}}]),t}(n.Component),w=window.firebase.database(),S=["Domingo","Lunes","Martes","Miercoles","Jueves","Viernes","Sabado"],x=[],I=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).state={data:[],arrayIdCalendar:[]},e.myRef=r.a.createRef(),e}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;w.ref("/calendar").once("value").then(function(t){e.setState({data:t.val()})}),w.ref("/booking").once("value").then(function(t){var a=e.state.arrayIdCalendar;Object.values(t.val()).map(function(e){return a.push(e.idCalendar)}),e.setState({arrayIdCalendar:a})})}},{key:"render",value:function(){var e=this,t=this.state.arrayIdCalendar;return x.forEach(function(e,a){t.forEach(function(t,n){if(e===t)return console.log(a+" "+n),document.getElementById(t).style.background="#e8e8e8"})}),r.a.createElement("div",{className:"container bg-white table-container d-flex justify-content-center mt-5"},r.a.createElement("form",{className:"mx-auto"},r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Leyenda:"),r.a.createElement("div",null,r.a.createElement("div",{className:"squard bg-hs"})," : Horario estelar"),r.a.createElement("div",null,r.a.createElement("div",{className:"squard bg-hp"})," : Horario premium"),r.a.createElement("div",null,r.a.createElement("div",{className:"squard bg-hsp"})," : Horario super premium"),r.a.createElement("div",null,r.a.createElement("div",{className:"squard bg-nd"})," : Algunos o todos no disponibles"))),r.a.createElement("table",{className:"table-item table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Hora"),r.a.createElement("th",{scope:"col"},"Domingo 4"),r.a.createElement("th",{scope:"col"},"Lunes 5"),r.a.createElement("th",{scope:"col"},"Martes 6"),r.a.createElement("th",{scope:"col"},"Mi\xe9rcoles 7"),r.a.createElement("th",{scope:"col"},"Jueves 8"),r.a.createElement("th",{scope:"col"},"Viernes 9"),r.a.createElement("th",{scope:"col"},"Sabado 10"))),r.a.createElement("tbody",null,this.state.data.map(function(t,a){return r.a.createElement("tr",{key:"data".concat(a)},r.a.createElement("th",{scope:"row"},a<10?"0"+a:a,":00 - ",a+1<10?"0"+(a+1):a+1,":00"),S.map(function(n,c){var s=a+"-"+n+"-"+t[n].name+"-"+t[n].price;return x.push(s),r.a.createElement("td",{ref:e.myRef,key:"day".concat(c),className:"td text-secondary hour".concat(a),id:s,onClick:e.handleClick.bind(e)},t[n].name)}))}))))}},{key:"handleClick",value:function(e){e.preventDefault(),this.props.handleChangeStatus(!0);var t=e.target.id.split("-"),a=t[0]<10?"0"+t[0]:t[0];this.props.handleGoForm(e.target.id,a,t[1],t[2],t[3])}}]),t}(n.Component),A=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).state={status:!1,id:"",hour:"",day:"",name:"",price:0,statusCalendar:!1},e}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return console.log(this.state.statusCalendar),r.a.createElement("div",{className:"row row-table"},this.state.status?r.a.createElement(j,{idCalendar:this.state.id,status:this.state.status,handleChangeStatus:this.handleChangeStatus.bind(this),hour:this.state.hour,day:this.state.day,name:this.state.name,price:this.state.price}):r.a.createElement(I,{status:this.state.status,handleChangeStatus:this.handleChangeStatus.bind(this),handleGoForm:this.handleGoForm.bind(this),hour:this.state.hour,day:this.state.day}))}},{key:"handleChangeStatus",value:function(e){this.setState({status:e})}},{key:"handleGoForm",value:function(e,t,a,n,r){this.setState({id:e,hour:t,day:a,name:n,price:r})}}]),t}(n.Component),R=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).state={status:!1},e}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"row"},this.state.status?r.a.createElement(A,null):r.a.createElement(k,{status:this.state.status,handleChangeStatus:this.handleChangeStatus.bind(this)}))}},{key:"handleChangeStatus",value:function(e){this.setState({status:e})}}]),t}(n.Component),M=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"row"},r.a.createElement("h1",null,"404 not found"))}}]),t}(n.Component),T=function(){return r.a.createElement(E,null,r.a.createElement(i.a,null,r.a.createElement(o.a,{exact:!0,path:"/AmericaTV/",component:R}),r.a.createElement(o.a,{component:M})))},P=(a(26),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function q(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available; please refresh."),t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t.onSuccess&&t.onSuccess(e)))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}Object(c.render)(r.a.createElement(s.a,null,r.a.createElement(T,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/AmericaTV",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/AmericaTV","/service-worker.js");P?(function(e,t){fetch(e).then(function(a){404===a.status||-1===a.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):q(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):q(t,e)})}}()}},[[16,2,1]]]);
//# sourceMappingURL=main.d7213747.chunk.js.map